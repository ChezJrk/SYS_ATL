def foo(n: size, x: R[n, n] @ DRAM):
    y = x[1:n, 0:n]
    for i in seq(0, n):
        if i + 1 < n:
            x[i, i] = y[i, i]