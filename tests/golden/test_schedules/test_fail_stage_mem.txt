def sqmat(n: size, A: R[n, n] @ DRAM, B: R[n, n] @ DRAM):
    assert n % 4 == 0
    for i in seq(0, n / 4):
        for j in seq(0, n / 4):
            for k in seq(0, n / 4):
                Btile: R[4, 4] @ DRAM
                for i0 in seq(0, 4):
                    for i1 in seq(0, 4):
                        Btile[i0, i1] = B[i0 + 4 * i, i1 + 4 * k]
                for ii in seq(0, 4):
                    for jj in seq(0, 4):
                        for kk in seq(0, 4):
                            A[ii + 4 * i,
                              jj + 4 * j] += Btile[ii, kk] * B[kk + 4 * k,
                                                               jj + 4 * j]