def buffer_select(n: size, dst: f32[n] @ DRAM, a: f32[n] @ DRAM,
                  b: f32[n] @ DRAM, c: f32[n] @ DRAM, d: f32[n] @ DRAM):
    for i in seq(0, n):
        reg_1: f32
        reg_1 = a[i]
        reg_2: f32
        reg_2 = b[i]
        reg_3: f32
        reg_3 = c[i]
        reg_4: f32
        reg_4 = d[i]
        reg_5: f32
        reg_5 = select(reg_1, reg_2, reg_3, reg_4)
        dst[i] = reg_5