def sqmat(n: size, A: R[n, n] @ DRAM, B: R[n, n] @ DRAM):
    assert n % 4 == 0
    for i in seq(0, n / 4):
        for j in seq(0, n / 4):
            Atile: R[4, 4] @ DRAM
            for i0 in seq(0, 4):
                for i1 in seq(0, 4):
                    Atile[i0, i1] = A[4 * i + i0, 4 * j + i1]
            for k in seq(0, n / 4):
                for ii in seq(0, 4):
                    for jj in seq(0, 4):
                        for kk in seq(0, 4):
                            Atile[ii, jj] += B[4 * i + ii, 4 * k +
                                               kk] * B[4 * k + kk, 4 * j + jj]
            for i0 in seq(0, 4):
                for i1 in seq(0, 4):
                    A[4 * i + i0, 4 * j + i1] = Atile[i0, i1]
